<?xml version="1.0" encoding="UTF-8"?>
<assembly xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="urn:maven:assembly:1.1.0-SNAPSHOT">
  
  <id>assemble</id>
  
  <formats>
    <format>tar.gz</format>
  </formats>

  <includeBaseDirectory>false</includeBaseDirectory>

  <dependencySets>
    <dependencySet>
      <outputDirectory>server</outputDirectory>
      <includes>
        <include>org.glassfish.main.distributions:glassfish:zip:*</include>
      </includes>
      <unpack>true</unpack>
      <unpackOptions>
      	<excludes>
      		<exclude>**/domains/domain1/config/domain.xml</exclude>
          <exclude>**/domains/domain1/config/default-web.xml</exclude>
      	</excludes>
      </unpackOptions>      
    </dependencySet>
    <dependencySet>
      <outputDirectory>client</outputDirectory>
      <includes>
        <include>org.camunda.bpm.javaee:camunda-ejb-client:jar:${project.version}</include>
      </includes>     
    </dependencySet>
    <dependencySet>
      <outputDirectory>modules</outputDirectory>
      <includes>
        <include>org.camunda.bpm.glassfish:camunda-glassfish-ear:ear:*</include>
        <include>org.camunda.bpm.javaee:camunda-jobexecutor-rar:rar:*</include>
      </includes>     
    </dependencySet>
    <dependencySet>
      <outputDirectory>modules/lib</outputDirectory>
      <includes>
        <include>org.camunda.bpm:camunda-engine:jar:*</include>
        <include>org.camunda.bpm.identity:camunda-identity-ldap:jar:*</include>
        <include>org.camunda.bpm.model:*:jar:*</include>
        <include>org.mybatis:mybatis:jar:*</include>
        <include>com.fasterxml.uuid:java-uuid-generator:jar:*</include>
        <include>joda-time:joda-time:jar:*</include>
        <include>org.codehaus.groovy:groovy-all:jar:*</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>server/glassfish3/glassfish/domains/domain1/applications/camunda-bpm-platform</outputDirectory>
      <includes>
        <include>org.camunda.bpm.glassfish:camunda-glassfish-ear:ear:*</include>
      </includes>
      <unpack>true</unpack>
    </dependencySet>
    <dependencySet>
      <outputDirectory>server/glassfish3/glassfish/domains/domain1/applications/camunda-bpm-platform/camunda-jobexecutor-service-${project.version}_jar</outputDirectory>
      <includes>
    		<include>org.camunda.bpm.javaee:camunda-jobexecutor-service:jar:*</include>
      </includes>
      <unpack>true</unpack>
    </dependencySet>
    <dependencySet>
      <outputDirectory>server/glassfish3/glassfish/domains/domain1/applications/camunda-bpm-platform/camunda-glassfish-service-${project.version}_jar</outputDirectory>
      <includes>
        <include>org.camunda.bpm.glassfish:camunda-glassfish-service:jar:*</include>
      </includes>
      <unpack>true</unpack>
    </dependencySet>
    <dependencySet>
      <outputDirectory>server/glassfish3/glassfish/domains/domain1/applications/camunda-jobexecutor-rar</outputDirectory>
      <includes>
        <include>org.camunda.bpm.javaee:camunda-jobexecutor-rar:rar:*</include>
      </includes>
      <unpack>true</unpack>     
    </dependencySet>
    <dependencySet>
      <outputDirectory>server/glassfish3/glassfish/lib</outputDirectory>
      <includes>
        <include>org.camunda.bpm:camunda-engine:jar:*</include>
        <include>org.camunda.bpm.identity:camunda-identity-ldap:jar:*</include>
        <include>org.camunda.bpm.model:*:jar:*</include>
        <include>org.mybatis:mybatis:jar:*</include>
        <include>com.fasterxml.uuid:java-uuid-generator:jar:*</include>
        <include>joda-time:joda-time:jar:*</include>
        <include>org.codehaus.groovy:groovy-all:jar:*</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>server/glassfish3/glassfish/lib</outputDirectory>
      <includes>        
        <include>com.h2database:h2:jar:*</include>
      </includes>     
    </dependencySet>
  </dependencySets> 
  <files>
    <file>
      <source>src/README.txt</source>
      <filtered>true</filtered>
      <lineEnding>crlf</lineEnding>
      <outputDirectory></outputDirectory>
    </file>
    <file>
      <source>src/start-camunda.bat</source>
      <filtered>true</filtered>
      <outputDirectory></outputDirectory>
    </file>
    <file>
      <source>src/start-camunda.sh</source>
      <filtered>true</filtered>
      <outputDirectory></outputDirectory>
      <fileMode>0755</fileMode>
    </file>
    <file>
      <source>src/LICENSE-2.0.txt</source>
      <filtered>true</filtered>
      <lineEnding>crlf</lineEnding>
      <outputDirectory></outputDirectory>
    </file>
    <file>
      <source>target/filtered-resources/domain.xml</source>
      <filtered>false</filtered>
      <outputDirectory>server/glassfish3/glassfish/domains/domain1/config</outputDirectory>
    </file>
    <file>
      <source>src/default-web.xml</source>
      <filtered>false</filtered>
      <outputDirectory>server/glassfish3/glassfish/domains/domain1/config</outputDirectory>
    </file>
  </files>
</assembly>
