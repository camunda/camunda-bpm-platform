<subsystem xmlns="urn:org.camunda.bpm.jboss:1.1">
  <process-engines>
    <process-engine name="__default" default="true">
      <datasource>java:jboss/datasources/ExampleDS</datasource>
      <history-level>audit</history-level>
      <configuration>org.camunda.bpm.container.impl.jboss.config.ManagedJtaProcessEngineConfiguration</configuration>
      <properties>
        <property name="job-acquisition-name" value="default"/>
        <property name="job-acquisition" value="default"/>
        <property name="job-name" value="default"/>
      </properties>
    </process-engine>
    <process-engine  default="false"  name="__test">
      <datasource>java:jboss/datasources/ExampleDS</datasource>
      <history-level>full</history-level>
      <configuration>org.camunda.bpm.container.impl.jboss.config.ManagedJtaProcessEngineConfiguration</configuration>
      <properties>
        <property name="job-acquisition-name" value="default"/>
      </properties>
      <plugins>
        <plugin>
          <class>org.camunda.bpm.identity.impl.ldap.plugin.LdapIdentityProviderPlugin</class>
          <properties>
            <property name="test" value="abc"/>
            <property name="number" value="123"/>
            <property name="bool" value="true"/>
          </properties>
        </plugin>
        <plugin>
          <class>org.camunda.bpm.identity.impl.ldap.plugin.LdapIdentityProviderPlugin</class>
          <properties>
            <property name="test" value="cba"/>
            <property name="number" value="321"/>
            <property name="bool" value="false"/>
          </properties>
        </plugin>
        <!-- LDAP CONFIGURATION -->
        <!-- Uncomment this section in order to enable LDAP support for this process engine -->
        <!-- Adjust configuration, see ( http://docs.camunda.org/latest/guides/user-guide/#process-engine-identity-service-the-ldap-identity-service ) -->
        <!--
          <plugin>
            <class>org.camunda.bpm.identity.impl.ldap.plugin.LdapIdentityProviderPlugin</class>
            <properties>

              <property name="serverUrl">ldaps://localhost:4334/</property>
              <property name="acceptUntrustedCertificates">false</property>
              <property name="managerDn">uid=jonny,ou=office-berlin,o=camunda,c=org</property>
              <property name="managerPassword">s3cr3t</property>

              <property name="baseDn">o=camunda,c=org</property>

              <property name="userSearchBase">ou=employees</property>
              <property name="userSearchFilter">(objectclass=person)</property>

              <property name="userIdAttribute">uid</property>
              <property name="userFirstnameAttribute">cn</property>
              <property name="userLastnameAttribute">sn</property>
              <property name="userEmailAttribute">mail</property>
              <property name="userPasswordAttribute">userpassword</property>

              <property name="groupSearchBase">ou=roles</property>
              <property name="groupSearchFilter">(objectclass=groupOfNames)</property>
              <property name="groupIdAttribute">cn</property>
              <property name="groupNameAttribute">cn</property>

              <property name="groupMemberAttribute">member</property>

            </properties>
          </plugin>
          -->

        <!-- LDAP CONFIGURATION -->
        <!-- The following plugin allows you to grant administrator authorizations to an existing LDAP user -->
        <!--
        <plugin>
          <class>org.camunda.bpm.engine.impl.plugin.AdministratorAuthorizationPlugin</class>
          <properties>
            <property name="administratorUserName">admin</property>
          </properties>
        </plugin>
        -->
      </plugins>
    </process-engine>
  </process-engines>
  <job-executor>
    <thread-pool-name>job-executor-tp</thread-pool-name>
    <core-threads>5</core-threads>
    <max-threads>15</max-threads>
    <queue-length>15</queue-length>
    <keepalive-time>10</keepalive-time>
    <allow-core-timeout>false</allow-core-timeout>
    <job-acquisitions>
      <job-acquisition name="default">
        <acquisition-strategy>SEQUENTIAL</acquisition-strategy>
        <properties>
          <property name="lockTimeInMillis" value="300000"/>
          <property name="waitTimeInMillis" value="5000"/>
          <property name="maxJobsPerAcquisition" value="3"/>
        </properties>
      </job-acquisition>
      <job-acquisition name="anders">
        <acquisition-strategy>SEQUENTIAL</acquisition-strategy>
      </job-acquisition>
    </job-acquisitions>
  </job-executor>
</subsystem>