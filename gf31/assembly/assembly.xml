<?xml version="1.0" encoding="UTF-8"?>
<assembly xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="urn:maven:assembly:1.1.0-SNAPSHOT">
  
  <id>assemble</id>
  
  <formats>
    <format>dir</format>
  </formats>

  <includeBaseDirectory>true</includeBaseDirectory>

  <dependencySets>
    <dependencySet>
      <outputDirectory>server</outputDirectory>
      <includes>
        <include>org.glassfish.distributions:glassfish:zip:*</include>
      </includes>
      <unpack>true</unpack>
      <unpackOptions>
      	<excludes>
      		<exclude>**/domains/domain1/config/domain.xml</exclude>
      	</excludes>
      </unpackOptions>      
    </dependencySet>
    <dependencySet>
      <outputDirectory>client</outputDirectory>
      <includes>
        <include>com.camunda.fox.platform:fox-platform-client:jar:${project.version}</include>
      </includes>     
    </dependencySet>
    <dependencySet>
      <outputDirectory>modules</outputDirectory>
      <includes>
        <include>com.camunda.fox.platform:fox-platform-glassfish-ear:ear:*</include>                
      </includes>     
    </dependencySet>
     <dependencySet>
      <outputDirectory>modules/lib</outputDirectory>
      <includes>
        <include>com.camunda.fox.engine:fox-engine:jar:*</include>
        <include>com.camunda.fox.platform:fox-platform-api:jar:*</include>
        <include>org.mybatis:mybatis:jar:*</include>
        <include>com.fasterxml.uuid:java-uuid-generator:jar:*</include>        
      </includes>     
    </dependencySet>
    <dependencySet>
      <outputDirectory>server/glassfish3/glassfish/domains/domain1/autodeploy</outputDirectory>
      <includes>
        <include>com.camunda.fox.platform:fox-platform-glassfish-ear:ear:*</include>
        <include>com.camunda.fox.platform:fox-platform-jobexecutor-rar:rar:*</include>
      </includes>     
    </dependencySet>
    <dependencySet>
      <outputDirectory>server/glassfish3/glassfish/lib</outputDirectory>
      <includes>
        <include>com.camunda.fox.engine:fox-engine:jar:*</include>
        <include>com.camunda.fox.platform:fox-platform-api:jar:*</include>
        <include>org.mybatis:mybatis:jar:*</include>
        <include>com.fasterxml.uuid:java-uuid-generator:jar:*</include>
      </includes>     
    </dependencySet>
        <dependencySet>
      <outputDirectory>server/glassfish3/glassfish/lib</outputDirectory>
      <includes>        
        <include>com.h2database:h2:jar:*</include>
      </includes>     
    </dependencySet>
  </dependencySets> 
  <files>
    <file>
      <source>src/README.txt</source>
      <filtered>true</filtered>
      <outputDirectory></outputDirectory>
    </file>
    <file>
      <source>src/domain.xml</source>
      <outputDirectory>server/glassfish3/glassfish/domains/domain1/config</outputDirectory>
    </file>   
  </files>
</assembly>