<?xml version="1.0" encoding="UTF-8"?>
<assembly xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xmlns="urn:maven:assembly:1.1.0-SNAPSHOT">
  
  <id>distro</id>
  
  <formats>
    <format>zip</format>
    <format>tar.gz</format>
  </formats>

  <includeBaseDirectory>true</includeBaseDirectory>

  <fileSets>
    <fileSet>
      <directory>../assembly/target/camunda-fox-ce-${project.version}/camunda-fox-ce-${project.version}</directory>
      <outputDirectory />
      <excludes>
        <exclude>**/*.sh</exclude>      
      </excludes>
    </fileSet>
    <fileSet>
      <directory>../assembly/target/camunda-fox-ce-${project.version}/camunda-fox-ce-${project.version}</directory>
      <outputDirectory />
      <includes>
        <include>**/*.sh</include>
      </includes>
      <fileMode>0755</fileMode>
    </fileSet>     
    <fileSet>
      <directory>../../examples/cdi-jsf-task-management</directory>
      <outputDirectory>examples/src/cdi-jsf-task-management</outputDirectory>  
      <excludes>
        <exclude>target/</exclude>
        <exclude>pom.xml</exclude>              
        <exclude>pom.xml.distro</exclude>
      </excludes>        
    </fileSet>
    <fileSet>
      <directory>../../examples/cdi-jsf-task-management</directory>
      <outputDirectory>examples/src/cdi-jsf-task-management</outputDirectory>  
      <includes>        
        <include>pom.xml.distro</include>
      </includes>        
    </fileSet>
  </fileSets>
  
  <files>
        <file>
                <source>../../examples/cdi-jsf-task-management/pom.xml.distro</source>
                <outputDirectory>examples/src/cdi-jsf-task-management</outputDirectory>
                <destName>pom.xml</destName>
        </file>
  </files>
  
  <dependencySets>
    <dependencySet>
      <includes>
        <include>com.camunda.fox.platform:fox-platform-explorer:war:*</include>
   <!-- <include>com.camunda.fox:camunda-fox-h2-webapp:war:*</include>
                <include>com.camunda.fox.cockpit:cockpit-webapp-fox:war:*</include>
                <include>com.camunda.fox.cycle:cycle-webapp-fox:war:*</include> -->                                             
      </includes>
      <outputDirectory>server/glassfish3/glassfish/domains/domain1/autodeploy</outputDirectory>
    </dependencySet>   
  </dependencySets>

</assembly>
